
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Меню Fishy</title>
  <script src="https://secure.wayforpay.com/server/pay-widget.js"></script>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      padding: 20px;
      font-family: 'Arial', sans-serif;
      background: #111;
      color: #fff;
    }
    h1 {
      text-align: center;
      font-size: 2rem;
    }
    .category {
      margin-top: 40px;
    }
    .category h2 {
      font-size: 1.5rem;
      border-bottom: 2px solid #444;
      padding-bottom: 10px;
    }
    .item-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
    }
    .item {
      background: #222;
      border-radius: 10px;
      padding: 15px;
      text-align: center;
    }
    .item h3 {
      font-size: 1rem;
      margin: 10px 0 5px;
    }
    .item .price {
      font-weight: bold;
      margin-bottom: 10px;
      display: block;
    }
    .btn {
      background: #0f0;
      color: #000;
      border: none;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 5px;
      font-weight: bold;
    }
    #cart p {
      margin: 5px 0;
    }
    button:active {
      transform: scale(0.98);
    }
  </style>
</head>
<body>

<h1>Меню Fishy</h1>

<div class="category">
  <h2>Кошик</h2>
  <div id="cart"></div>
  <p><strong>Загальна сума:</strong> <span id="total">0</span> грн</p>
  <button class="btn" onclick="checkout()">Оплатити все</button>
</div>

<div class="category">
  <h2>Сніданки</h2>
  <div class="item-grid">
    <div class="item">
      <h3>Сендвіч з лососем</h3>
      <span class="price">165 грн</span>
      <button class="btn" onclick="addToCart('Сендвіч з лососем', 165)">До кошика</button>
    </div>
    <div class="item">
      <h3>Омлет з креветкою</h3>
      <span class="price">175 грн</span>
      <button class="btn" onclick="addToCart('Омлет з креветкою', 175)">До кошика</button>
    </div>
    <div class="item">
      <h3>Цезар з лососем</h3>
      <span class="price">315 грн</span>
      <button class="btn" onclick="addToCart('Цезар з лососем', 315)">До кошика</button>
    </div>
  </div>
</div>

<div class="category">
  <h2>Морозиво</h2>
  <div class="item-grid">
    <div class="item">
      <h3>Полуниця вершки</h3>
      <span class="price">140 грн</span>
      <button class="btn" onclick="addToCart('Полуниця вершки', 140)">До кошика</button>
    </div>
    <div class="item">
      <h3>Солона карамель</h3>
      <span class="price">140 грн</span>
      <button class="btn" onclick="addToCart('Солона карамель', 140)">До кошика</button>
    </div>
    <div class="item">
      <h3>Маракуйя-манго</h3>
      <span class="price">155 грн</span>
      <button class="btn" onclick="addToCart('Маракуйя-манго', 155)">До кошика</button>
    </div>
  </div>
</div>

<script>
  const cart = [];

  function addToCart(name, price) {
    cart.push({ name, price });
    updateCart();
  }

  function updateCart() {
    const cartDiv = document.getElementById("cart");
    cartDiv.innerHTML = "";
    let total = 0;
    cart.forEach((item, index) => {
      total += item.price;
      cartDiv.innerHTML += `<p>${item.name} — ${item.price} грн <button onclick="removeItem(${index})">✕</button></p>`;
    });
    document.getElementById("total").innerText = total;
  }

  function removeItem(index) {
    cart.splice(index, 1);
    updateCart();
  }

  function checkout() {
    if (cart.length === 0) return alert("Кошик порожній");
    const productNames = cart.map(item => item.name);
    const productPrices = cart.map(item => item.price);
    const productCounts = cart.map(() => "1");
    const total = productPrices.reduce((a, b) => a + b, 0);

    const wayforpay = new Wayforpay();
    wayforpay.invoice({
      merchantAccount: "github_com11",
      merchantDomainName: "3d669b8c1436bbe5b80cd15a23cc9f9a",
      authorizationType: "SimpleSignature",
      merchantSignature: "a5eafca69452c315dd4ac2701b6bb97fc2e01b6d",
      orderReference: "ORDER" + Math.floor(Math.random() * 100000),
      orderDate: Math.floor(Date.now() / 1000),
      amount: total,
      currency: "UAH",
      productName: productNames,
      productCount: productCounts,
      productPrice: productPrices,
      clientFirstName: "Покупець",
      clientLastName: "Fishy",
      clientEmail: "email@example.com",
      clientPhone: "380000000000",
      language: "UA",
      returnUrl: "https://3d669b8c1436bbe5b80cd15a23cc9f9a/thanks.html"
    });
  }
</script>

</body>
</html>
